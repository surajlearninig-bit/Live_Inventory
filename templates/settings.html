<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Settings | IT Asset Inventory</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
body{margin:0;background:#f1f5f9;display:flex}
.sidebar{width:200px;background:#020617;color:#fff;height:100vh;padding:16px}
.nav-item{padding:10px;border-radius:6px;cursor:pointer;font-size:13px;margin-bottom:6px}
.nav-item:hover{background:#1e293b}
.main{flex:1;padding:20px}
.card{border-radius:12px}
</style>
</head>
<body>

<!-- SIDEBAR -->
<div class="sidebar">
  <h2>Inventory</h2>

  <div class="nav-item" onclick="location.href='/'">Dashboard</div>
  <div class="nav-item" onclick="location.href='/inventory'">Live Inventory</div>
  <div class="nav-item" onclick="location.href='/assets'">Assets</div>
  <div class="nav-item" onclick="location.href='/users'">Users</div>
  <div class="nav-item" onclick="location.href='/reports'">Reports</div>

  {% if role == "admin" %}
  <div class="nav-item" onclick="location.href='/settings'">
    Settings
  </div>
  {% endif %}
</div>


<div class="main">
<h5 class="mb-3">Settings</h5>

<!-- SYSTEM INFO -->
<div class="card p-3 mb-3">
  <h6>System Info</h6>
  <p>Live Inventory Count: <strong id="liveCount">--</strong></p>
  <p>Total Users: <strong id="userCount">--</strong></p>
</div>

<!-- USER MANAGEMENT -->
<div class="card p-3 mb-3">
  <h6>User Management</h6>

  <div class="row g-2 mb-2">
    <div class="col">
      <input class="form-control" id="newUser" placeholder="Username">
    </div>
    <div class="col">
      <input class="form-control" id="newPass" placeholder="Password">
    </div>
    <div class="col">
      <select class="form-select" id="newRole">
        <option value="viewer">Viewer</option>
        <option value="editor">Editor</option>
        <option value="admin">Admin</option>
      </select>
    </div>
    <div class="col">
      <button class="btn btn-primary" onclick="createUser()">Create</button>
    </div>
  </div>

  <table class="table table-sm">
    <thead>
      <tr>
        <th>User</th>
        <th>Role</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody id="userRows"></tbody>
  </table>
</div>

<!-- DANGER ZONE -->
<div class="card p-3 border border-danger">
  <h6 class="text-danger">Danger Zone</h6>
  <input class="form-control mb-2" type="password" id="resetPass"
         placeholder="Enter admin password">
  <button class="btn btn-danger" onclick="resetDB()">
    Reset Database
  </button>
</div>

</div>

<script src="/static/settings.js"></script>
</body>
</html>
